@tailwind base;
@tailwind components;
@tailwind utilities;

/* Custom styles pour VECT */
@layer base {
  body {
    @apply bg-gradient-to-br from-slate-50 to-blue-50 min-h-screen;
  }
}

@layer components {
  .workout-card {
    @apply bg-white rounded-xl shadow-lg border border-slate-200 p-6 transition-all duration-200 hover:shadow-xl hover:scale-[1.02];
  }
  
  .workout-button {
    @apply px-4 py-2 rounded-lg font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2;
  }
  
  .workout-button-primary {
    @apply workout-button bg-primary-500 text-white hover:bg-primary-600 focus:ring-primary-500;
  }
  
  .workout-button-success {
    @apply workout-button bg-success-500 text-white hover:bg-success-600 focus:ring-success-500;
  }
  
  .workout-button-warning {
    @apply workout-button bg-warning-500 text-white hover:bg-warning-600 focus:ring-warning-500;
  }
}

/* üéØ WA-011.3: Animations pour messages motivationnels */
/* üé® WA-012.2: Animations enhanced pour composants workout - CLEAN VERSION */
@layer utilities {
  /* ===== ANIMATIONS EXISTANTES (WA-011.3) ===== */
  @keyframes slide-in-from-bottom-5 {
    from { 
      transform: translateY(20px) translateX(-50%);
      opacity: 0;
      scale: 0.95;
    }
    to { 
      transform: translateY(0) translateX(-50%);
      opacity: 1;
      scale: 1;
    }
  }

  @keyframes slide-out-to-bottom-5 {
    from { 
      transform: translateY(0) translateX(-50%);
      opacity: 1;
      scale: 1;
    }
    to { 
      transform: translateY(20px) translateX(-50%);
      opacity: 0;
      scale: 0.95;
    }
  }

  @keyframes slide-in-from-top-5 {
    from { 
      transform: translateY(-20px) translateX(-50%);
      opacity: 0;
      scale: 0.95;
    }
    to { 
      transform: translateY(0) translateX(-50%);
      opacity: 1;
      scale: 1;
    }
  }

  @keyframes gentle-pulse {
    0%, 100% { 
      opacity: 0.15;
      scale: 1;
    }
    50% { 
      opacity: 0.3;
      scale: 1.05;
    }
  }

  @keyframes progress-shrink {
    from { width: 100%; }
    to { width: 0%; }
  }

  /* ===== NOUVELLES ANIMATIONS (WA-012.2) - UTILIS√âES SEULEMENT ===== */
  
  /* üéØ fade-in - Utilis√©e dans CurrentExerciseDisplay et NextExercisePreview */
  @keyframes fade-in {
    from { 
      opacity: 0; 
      transform: translateY(10px); 
    }
    to { 
      opacity: 1; 
      transform: translateY(0); 
    }
  }

  /* ‚ö†Ô∏è critical-time - Utilis√©e dans MainTimerDisplay pour temps ‚â§ 3s */
  @keyframes critical-time {
    0%, 100% { 
      transform: scale(1);
      color: #dc2626;
    }
    50% { 
      transform: scale(1.1);
      color: #ef4444;
      text-shadow: 0 0 10px rgba(220, 38, 38, 0.5);
    }
  }

  /* üèÜ victory-bounce - Utilis√©e dans NextExercisePreview pour c√©l√©bration */
  @keyframes victory-bounce {
    0%, 20%, 53%, 80%, 100% { 
      transform: translate3d(0, 0, 0); 
    }
    40%, 43% { 
      transform: translate3d(0, -30px, 0); 
    }
    70% { 
      transform: translate3d(0, -15px, 0); 
    }
    90% { 
      transform: translate3d(0, -4px, 0); 
    }
  }

  /* üéä confetti - Utilis√©e dans NextExercisePreview pour effet confetti */
  @keyframes confetti {
    0% { 
      transform: translateY(0) rotate(0deg); 
      opacity: 1; 
    }
    100% { 
      transform: translateY(-100px) rotate(360deg); 
      opacity: 0; 
    }
  }

  /* ‚ú® shimmer - Utilis√©e dans NextExercisePreview pour badge "Nouveau Round" */
  @keyframes shimmer {
    0% { 
      background-position: -200% 0; 
    }
    100% { 
      background-position: 200% 0; 
    }
  }

  /* ‚è∞ timer-pulse - Utilis√©e dans MainTimerDisplay et NextExercisePreview */
  @keyframes timer-pulse {
    0%, 100% { 
      transform: scale(1);
      box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.7);
    }
    50% { 
      transform: scale(1.05);
      box-shadow: 0 0 0 10px rgba(59, 130, 246, 0);
    }
  }

  /* ===== CLASSES UTILITAIRES EXISTANTES ===== */
  .animate-in {
    animation-fill-mode: forwards;
  }

  .animate-out {
    animation-fill-mode: forwards;
  }

  .slide-in-from-bottom-5 {
    animation: slide-in-from-bottom-5 0.5s cubic-bezier(0.16, 1, 0.3, 1);
  }

  .slide-out-to-bottom-5 {
    animation: slide-out-to-bottom-5 0.3s cubic-bezier(0.16, 1, 0.3, 1);
  }

  .slide-in-from-top-5 {
    animation: slide-in-from-top-5 0.5s cubic-bezier(0.16, 1, 0.3, 1);
  }

  .animate-gentle-pulse {
    animation: gentle-pulse 2s ease-in-out infinite;
  }

  .animate-progress-shrink {
    animation: progress-shrink var(--duration, 3000ms) linear forwards;
  }

  /* ===== NOUVELLES CLASSES UTILITAIRES - UTILIS√âES SEULEMENT ===== */
  
  /* ‚úÖ UTILIS√âE dans CurrentExerciseDisplay et NextExercisePreview */
  .animate-fade-in {
    animation: fade-in 0.5s ease-out forwards;
  }

  /* ‚úÖ UTILIS√âE dans MainTimerDisplay pour temps critique */
  .animate-critical-time {
    animation: critical-time 1s infinite;
  }

  /* ‚úÖ UTILIS√âE dans NextExercisePreview pour c√©l√©bration finale */
  .animate-victory-bounce {
    animation: victory-bounce 1s ease-in-out;
  }

  /* ‚úÖ UTILIS√âE dans NextExercisePreview pour effet confetti */
  .animate-confetti {
    animation: confetti 3s ease-out infinite;
  }

  /* ‚úÖ UTILIS√âE dans NextExercisePreview pour badge "Nouveau Round" */
  .animate-shimmer {
    background: linear-gradient(90deg, 
      transparent, 
      rgba(255, 255, 255, 0.4), 
      transparent);
    background-size: 200% 100%;
    animation: shimmer 2s infinite;
  }

  /* ‚úÖ UTILIS√âE dans MainTimerDisplay et NextExercisePreview */
  .animate-timer-pulse {
    animation: timer-pulse 2s infinite;
  }

  /* ===== CLASSES POUR √âTATS DE MOTIVATION (EXISTANTES) ===== */
  .motivation-milestone {
    @apply from-emerald-500 to-blue-500;
  }

  .motivation-encouragement {
    @apply from-orange-500 to-red-500;
  }

  .motivation-celebration {
    @apply from-purple-500 to-pink-500;
  }

  .motivation-technique {
    @apply from-blue-400 to-indigo-400;
  }

  /* ===== OPTIMISATIONS PERFORMANCE ===== */
  .gpu-accelerated {
    transform: translateZ(0);
    backface-visibility: hidden;
  }

  /* ===== RESPONSIVE & ACCESSIBILIT√â ===== */
  @media (max-width: 768px) {
    .animate-timer-pulse {
      animation-duration: 3s; /* Plus lent sur mobile pour performance */
    }
  }

  @media (prefers-reduced-motion: reduce) {
    /* Respecter les pr√©f√©rences d'accessibilit√© */
    * {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }
}